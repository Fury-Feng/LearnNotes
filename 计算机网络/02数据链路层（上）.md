# 第三章：数据链路层(上)

**前言：感觉这章写的有点啰嗦，达不到考研的深度，计算机方向的面试也不会问这里面的内容，后期整理面试题如果涉及这章内容的话会重写并标注**

## 数据链路层的功能

举一个例子,阿里有马云，秘书A，傻子搬运工A，万达公司有王健林，秘书B，傻子搬运工B

马云需要将4396份文件传达给王健林，这件事情一般通过秘书处理，而秘书则依赖傻子搬运工进行传达。由于搬运工是傻子，可能传输的过程出现差错，这个时候秘书A需要在文件上进行编号，秘书B在收到文件后，能依据编号得知是否运输过程中文件有所遗漏。

在这个例子中，马云和王健林代表最上级的网络层，传达文件本身需要借助下级的服务，即秘书，代表的就是数据链路层。

这个体系里，阿里的地位由上到下是马云，秘书，傻子搬运工。而对应的就是网络层，数据链路层，物理层。

所以数据链路层的主要功能就是在物理层提供服务的基础上向网络层提供服务，体现在加强物理层传输数据比特流，**将物理层可能出错的连接改造为无差错的数据链路**。具体功能如下：

1.为网络层提供服务（基本任务是将网络层的数据传输到目标的网络层）

2.链路管理（即数据链路层连接的建立，维持和管理）

3.组帧

4.流量控制

5.差错控制



## 3.1组帧

组帧的目的在于传输出错后，能只需要重新发送出错的部分，从而提高效率。这种发送方按一定规则把网络层递交的分组封装成帧的方法较组帧。具体有以下几种方法：

1.字符计数法：在帧的头部使用一个计数字段来表明帧内字符数

2.首尾定界法：使用特定的字符或比特定义帧的开始或结束，可分为字符填充（在数据中心的特殊字符用转义字符填充）和比特填充（数据区每遇到5个连续的1就填充）

3.违规编码法：信号传输的过程中采用违规的编码来表示帧的开始或结束



## 3.2差错控制

由于信道噪声的等原因，帧在传输中可能出现错误。利用编码技术进行差错控制。差错控制可以分为检错编码和纠错编码。

。。。。。。先空着，这边涉及到计租有关校验码的知识，我暂时也没弄懂



## 3.3流量控制和可靠传输

### 3.3.1可靠传输通过使用确认和超时重传.

**使用确认就是一种无数据的控制帧，让发送方知道哪些内容被正确接受**。举个例子，领导发话，下属都会回复：“收到！”，这个“收到”就是无数据的控制帧。

超时重传就是就是，当领导发了消息而下属没有回复的时候，领导会继续发送，直到下属回复为止。

### 3.3.2流量控制

流量控制是对链路上帧发送速率的控制，使接收方有足够的缓冲空间接受帧，主要依靠以下协议：

1.停止等待协议:发送方每发送一-帧都要等待接收方的应答信号才能发送下一帧

2.后退N帧协议:发送方一次可发送N帧，按序接收，重传从最后一个确认开始

3.选择重传协议:发送方一次可发送N帧，可以不按序接收，重传没有确认的帧

（这段在考研里面是重点，最好去看书）



#### 