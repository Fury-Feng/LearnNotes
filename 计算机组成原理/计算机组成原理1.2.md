### 1.2 计算机的基本组成

#### 1.2.1 冯-诺依曼计算机的特点

以存储程序概念为基础的各类计算机的特点可归结为：

1. 由运算器、存储器、控制器和输入设备、输出设备五大部件组成
2. 指令和数据以同等地位存放于存储器内，并可按地址寻访
3. 指令和数据均用二进制码表示
4. 指令（由操作码和地址码组成）
   - 操作码：表示操作的性质
   - 地址码：表示操作数所在存储器中的位置
5. 指令在存储器内按顺序存放。通常顺序执行，在特定条件下，可根据运算结果或根据设定的条件改变执行顺序。
6. 机器以运算器为中心，输入输出设备与存储器的数据传送通过运算器



#### 1.2.2 计算机的硬件框图

![典型的风诺依曼计算机结构](C:\Users\Administrator\Desktop\计算机组成\典型的风诺依曼计算机结构.png)

现代计算器已转化为以存储器为中心，实线为控制线， 虚线为反馈线，双线为数据线。

各部件功能：

1. 运算器：完成算数运算和逻辑运算，并将运算的中间结果暂存在运算器内
2. 存储器：存放数据和程序
3. 控制器：控制、指挥程序和数据的输入、运行以及处理运算结果
4. 输入设备：将人们熟悉的信息形式转换为机器能识别的信息形式
5. 输出设备：将机器运算结果转换为人们熟悉的信息形式

![存储器中心计算机结构](C:\Users\Administrator\Desktop\计算机组成\存储器中心计算机结构.png)

控制器起统一指挥作用

运算器和控制器通常合称中央处理器（Central Processing Unit）-CPU

输入和输出设备简称I/O设备（Input/Output equipment）

现代计算机由三大部分组成：CPU、I/O设备及主存储器M.M（Main Memory）

CPU与M.M合称主机，I/O可叫做外部设备

![现代计算机组成框图](C:\Users\Administrator\Desktop\计算机组成\现代计算机组成框图.png)

主存储器M.M是存储器子系统中的一类，用来存放程序和数据，它可以直接与CPU交换信息。另一类叫辅助存储器，简称辅存，又叫外存。

ALU（Arithmetic Logic Unit）叫做算数逻辑运算单元（算逻部件），用来完成算数逻辑运算。

CU（Control Unit）叫做控制单元，用来解释存储器中的指令，并发出各种操作命令来执行指令

ALU和CU是CPU的核心部件

I/O也受CU控制，用来完成相应的输入、输出操作。



#### 1.2.3计算机的工作过程

- 上机前准备

  1. 建立数学模型

     - 找到一系列反应研究对象变化规律的数学方程组，将其叫做被研究对象变化规律的数学模型。

  2. 确定计算方法

     - 如sinx只有采用近似计算方法，用四则运算的式子来求得
     - 又如，计算机不能直接求解开方x，但可用迭代公式（不唯一，N对N）

  3. 编制解题程序

     - 将计算步骤用一一对应的机器指令描述

       如，计算ax2+bx+c：

       - 将x取至运算器中
       - 乘以x，得x2存于运算器中
       - 再乘以a，得ax2，存于运算器中
       - 将ax2送至存储器中
       - 取b至运算器中
       - 乘以x，得bx，存于运算器中
       - 将ax2从存储器中取出与bx相加，得ax2+bx，存于运算器中
       - 再取c与ax2+bx相加，得ax2+bx+c，存于运算器中

       可见，以上步骤共需八步。

       若将上式改写成：（ax+b）x+c，则其步骤可简化为：

       - 取x至运算器中
       - 乘以a，得ax，存于运算器中
       - 加b，得ax+b，存于运算器中
       - 乘以x，得（ax+b）x，存于运算器中
       - 加c，得（ax+b）x+c，存于运算器中

     若设某机的指令字长为16位，其中操作码占6位，地址码占10位。（0/1代码）

     - 操作码代表机器所执行的各种操作，如取数、存数、加、减、除、停机、打印等。

     - 地址码表示参加运算的数在存储器内的位置

       

- 计算机的解题过程

  ![细化的计算机组成](C:\Users\Administrator\Desktop\计算机组成\细化的计算机组成.png)

  1. 运算器：

     - 三个寄存器：
       - ACC（Accumulator）-累加器
       - MQ（Multiplier-Quotient Register）-乘商寄存器（乘数和商）
       - X-操作数寄存器

  2. 主存储器

     包括存储体、各种逻辑部件及控制电路等。存储体由许多存储单元组成，每个存储单元又包含若干个存储元件（或称存储基元、存储元），每个存储元件能寄存一位二进制代码。

     主存的工作方式就是按存储单元的地址号来实现对存储字各位的存（写入）、取（读出）。这种存取方式叫做按地址存取，也即按地址访问存储器（简称访存）。

     为了能实现按地址访问的方式，主存中还必须配置两个寄存器MAR和MDR。MAR（Memory Adress Register）是存储器地址寄存器，用来存放欲访问的存储单元的地址，其位数对应存储单元的个数（如MAR为10位，则有2*10=1024个存储单元，记为1k）。MDR（Memory Data Register）是存储器数据寄存器，用来存放从存储体某单元取出的代码或准备往某存储单元存入的代码，其位数与存储字长相等。

  3. 控制器

     控制器是计算机的神经中枢。

     1. 取指过程

        命令存储器读出一条指令

     2. 分析过程
     
        对指令进行分析，指出该指令要完成什么样的操作，并按寻址特征指明操作数的地址
     
     3. 执行过程
     
        根据操作数所在的地址，取出操作数并完成某种操作
     
        - 程序计数器PC（Program Counter）
     
          存放当前欲执行命令的地址，与主存的MAR之间有一条直接通路，且具有自动加1的功能，即可自动形成下一条指令的地址
     
        - 指令计数器IR（Instruction Register）
     
          存放当前指令，IR的内容来自主存的MDR
     
          IR中的操作码（OP（IR））送至CU（记作OP（IR）->CU），用来分析指令
     
          IR中的地址码（Ad（IR））作为操作数的地址送至存储器的MAR（记作Ad（IR）->MAR）
     
        - 控制单元CU（Control Unit）
     
          分析当前指令所需完成的操作，并发出各种微操作命令序列，用以控制所有被控对象
     
     4. I/O
     
        子系统包括各种外部设备及相应的接口。它接受CU发出的各种控制命令并完成相应操作
     
     